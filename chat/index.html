<!doctype html>
<html lang="fa-IR" dir="rtl" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-chat/ReadMe" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">💬 افزونه‌های چت دیوار | کنار دیوار</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://divar-ir.github.io/kenar-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://divar-ir.github.io/kenar-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://divar-ir.github.io/kenar-docs/chat/"><meta data-rh="true" property="og:locale" content="fa_IR"><meta data-rh="true" name="docusaurus_locale" content="fa-IR"><meta data-rh="true" name="docsearch:language" content="fa-IR"><meta data-rh="true" name="title" content="کنار دیوار"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="💬 افزونه‌های چت دیوار | کنار دیوار"><meta data-rh="true" name="description" content="نمایش شما به عنوان خدمت‌دهنده به کاربران"><meta data-rh="true" property="og:description" content="نمایش شما به عنوان خدمت‌دهنده به کاربران"><link data-rh="true" rel="icon" href="/kenar-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://divar-ir.github.io/kenar-docs/chat/"><link data-rh="true" rel="alternate" href="https://divar-ir.github.io/kenar-docs/chat/" hreflang="fa-IR"><link data-rh="true" rel="alternate" href="https://divar-ir.github.io/kenar-docs/chat/" hreflang="x-default"><link rel="stylesheet" href="/kenar-docs/assets/css/styles.c1b658cf.css">
<script src="/kenar-docs/assets/js/runtime~main.94a744cc.js" defer="defer"></script>
<script src="/kenar-docs/assets/js/main.ec12db2b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/kenar-docs/img/logo.svg"><link rel="preload" as="image" href="../img/wire-puzzle.svg"><div role="region" aria-label="پرش به مطلب اصلی"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">پرش به مطلب اصلی</a></div><nav aria-label="صفحه اصلی" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="باز و بست منو" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/kenar-docs/"><div class="navbar__logo"><img src="/kenar-docs/img/logo.svg" alt="کنار دیوار" class="themedComponent_mlkZ themedComponent--light_NVdE" width="64"><img src="/kenar-docs/img/logo.svg" alt="کنار دیوار" class="themedComponent_mlkZ themedComponent--dark_xIcU" width="64"></div><b class="navbar__title text--truncate">| مستندات فنی</b></a><a href="https://github.com/divar-ir/kenar-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="بین حالت تاریک و روشن سوئیچ کنید (الان حالت روشن)" aria-label="بین حالت تاریک و روشن سوئیچ کنید (الان حالت روشن)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="بازگشت به بالا" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="نوار کناری مستندات" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kenar-docs/">ReadMe</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kenar-docs/addons/">افزونه‌های صفحهٔ آگهی</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;افزونه‌های صفحهٔ آگهی&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kenar-docs/assets/">اَسِت‌ها assets</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" href="/kenar-docs/chat/">💬 افزونه‌های چت دیوار</a><button aria-label="بستن دسته بندی در نوار کناری &#x27;💬 افزونه‌های چت دیوار&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kenar-docs/chat/chatbot_conversations">مکالمه با چت‌بات (آزمایشی)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kenar-docs/chat/users_conversations">ارسال پیام در چت</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kenar-docs/events/">دریافت رویدادها در لحظه</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;دریافت رویدادها در لحظه&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kenar-docs/finder/">دریافت اطلاعات آگهی</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;دریافت اطلاعات آگهی&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kenar-docs/management/">پنل مدیریت اپلیکیشن‌ها</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;پنل مدیریت اپلیکیشن‌ها&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/kenar-docs/migrations/user_addon_v2+addon_v2+user_semantic">migrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kenar-docs/misc/">متفرقه</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;متفرقه&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kenar-docs/oauth/">احراز باز</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;احراز باز&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kenar-docs/payment-ticket/">فلوی تیکت پرداخت</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;فلوی تیکت پرداخت&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/kenar-docs/post/edit_post">post</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kenar-docs/semantic/">اطلاعات معنایی</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;اطلاعات معنایی&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kenar-docs/standards/">استانداردها</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;استانداردها&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kenar-docs/widgets/">ساختار ویجت های دیوار (Widgets)</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;ساختار ویجت های دیوار (Widgets)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="نشانگر صفحات"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="صفحه اصلی" class="breadcrumbs__link" href="/kenar-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">💬 افزونه‌های چت دیوار</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">مطالب این صفحه</button></div><div class="theme-doc-markdown markdown"><header><h1>💬 افزونه‌های چت دیوار</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="نمایش-شما-به-عنوان-خدمتدهنده-به-کاربران">نمایش شما به عنوان خدمت‌دهنده به کاربران<a href="#نمایش-شما-به-عنوان-خدمتدهنده-به-کاربران" class="hash-link" aria-label="لینک مستقیم به نمایش شما به عنوان خدمت‌دهنده به کاربران" title="لینک مستقیم به نمایش شما به عنوان خدمت‌دهنده به کاربران">​</a></h2>
<p>در چت دیوار به طرفین چت بر اساس مواردی مثل شهر یا دسته‌ٔ آگهی خدماتی را پیشنهاد می‌دهیم که اگر برنامهٔ شما در آن گروه برنامه‌ها باشد به عنوان خدمت‌دهنده به کاربران معرفی می‌شود.
مثلاً شما می‌توانید به عنوان خدمت‌دهنده در افزونه‌های ارسال کالا در چت به کاربران معرفی شوید تا با بازکردن برنامهٔ وب شما، درخواست خود را ثبت کنند.</p>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="مسیر ارائهٔ خدمات در چت" src="/kenar-docs/assets/images/chat-flow-0cd7c8a561ebfe9f69b5674eee691716.png" width="2684" height="1873" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><sub dir="rtl">مسیری که کاربر برای دریافت خدمات شما در چت طی می کند</sub></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="بازشدن-برنامه-توسط-کاربر">بازشدن برنامه توسط کاربر<a href="#بازشدن-برنامه-توسط-کاربر" class="hash-link" aria-label="لینک مستقیم به بازشدن برنامه توسط کاربر" title="لینک مستقیم به بازشدن برنامه توسط کاربر">​</a></h2>
<p>۱. در هر زمانی که چت دیوار بخواهد برنامهٔ شما را باز کند، درخواستی با جزییات زیر به آدرسی که در فیلد <code>هدر شناسایی ریکوئست‌های دیوار</code> <a href="/kenar-docs/management/#%D9%84%DB%8C%D8%B3%D8%AA-%D9%BE%D8%A7%D8%B1%D8%A7%D9%85%D8%AA%D8%B1%D9%87%D8%A7">در پنل کنار وارد کرده‌اید</a> ارسال می‌کند و در صورت دریافت پاسخ معتبر، کاربر را به آدرسی که در پاسخ وجود دارد هدایت می‌کند.</p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POST https://your.app.ir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">authorization: {{ Divar Identification Key }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;extra_data&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;location&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;latitude&quot;: &quot;اگر برنامهٔ شما از مسیر دکمه‌هایی که چت دیوار زیر پیام‌های از نوع موقعیت مکانی درج می‌کند، باز شود، این اطلاعات هم در درخواست ارسالی از سمت دیوار خواهید داشت.&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;longitude&quot;: &quot;51.34850978851319&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;callback_url&quot;: &quot;آدرسی که کاربر پس از انجام فرایند در سرویس شما باید به آن هدایت شود&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;post_token&quot;: &quot;توکن آگهی&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;conversation_id&quot;: &quot;813d3106-dcb8-4283-b2a3-29e8edcc4dbc&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;user_id&quot;: &quot;شناسهٔ کسی که روی لینک کلیک کرده یا فرایند را شروع کرده&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;peer_id&quot;: &quot;شناسهٔ طرف مقابل چت&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;supplier&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: &quot;شناسهٔ کاربر فروشنده (صاحب آگهی)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;demand&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;: &quot;شناسهٔ کاربر خریدار&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>پارامتر <code>post_token</code> شناسهٔ آگهی‌ مورد نظر است.</li>
<li>پارامتر <code>conversation_id</code> شناسه‌ی مکالمه‌ای است که کاربر از آن به سمت اپ شما هدایت شده است.</li>
<li>پارامتر <code>user_id</code> شناسهٔ کاربریست که با اپلیکیشن تعامل کرده.</li>
<li>پارامتر <code>peer_id</code> شناسهٔ طرف دیگر چت است.</li>
<li>برای <a href="/kenar-docs/oauth">دریافت اجازه‌ها</a> یا <a href="/kenar-docs/chat/#%D8%AF%D8%B3%D8%AA%D8%B1%D8%B3%DB%8C-%D8%B3%D8%B1%DB%8C%D8%B9">استفاده از امکانات مربوط به چت</a>، هر سهٔ این پارامترها را ارائه کنید.</li>
<li>پارامتر <code>callback_url</code> ادرسی‌ست که باید کاربر را بعد از اتمام فرآیند به آن هدایت کنید.</li>
<li>مقدار <code>authorization</code> معادل پارامتر <code>Divar Identification Key</code>، که در سطح اپلیکیشن قابل تنظیم است، قرار داده خواهد شد. با خواندن این هدر و مقایسهٔ آن، می‌توانید منبع درخواست را احراز کرده مطمئن شوید درخواست از جانب دیوار ارسال شده است.</li>
</ul>
<br>
<p>در پاسخ به این درخواست، می‌بایست آدرسی را به شکل زیر برگردانید. کاربر به أدرسی که در قسمت <code>url</code> پاسخ شماست هدایت می‌شود و با برنامهٔ تحت وب شما تعامل می‌کند.</p>
<div class="language-JSON language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;200&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;success&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://yourdomain.com/some/where/to/start&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<br>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ارائهٔ-خدمات-در-برنامهٔ-تحت-وب-شما-و-بازگشت-به-دیوار">ارائهٔ خدمات در برنامهٔ تحت وب شما و بازگشت به دیوار<a href="#ارائهٔ-خدمات-در-برنامهٔ-تحت-وب-شما-و-بازگشت-به-دیوار" class="hash-link" aria-label="لینک مستقیم به ارائهٔ خدمات در برنامهٔ تحت وب شما و بازگشت به دیوار" title="لینک مستقیم به ارائهٔ خدمات در برنامهٔ تحت وب شما و بازگشت به دیوار">​</a></h2>
<p>پس از باز شدن برنامهٔ شما در اپ دیوار به صورت webview در اپلیکیشن‌های دیوار یا pop-up در وب دیوار، کاربر عملیات مورد نظر شما را در برنامهٔ شما طی می‌کند و خدمات مورد نظر را دریافت می‌کند. پس از اتمام کار برنامه می‌بایست کاربر را به دیوار برگرداند.<br>
<!-- -->پیشنهاد می‌کنیم در زمان‌هایی که دانستن نتیجهٔ کار برای هر دو طرف چت لازم است، <a href="/kenar-docs/chat/users_conversations">نتیجه را در چت اعلام کنید</a> و دکمه‌ای برای پیگیری نیز در پیام درج کنید.</p>
<p>برای ارسال پیام در چت باید در برنامهٔ خود از طریق <a href="/kenar-docs/oauth/">احراز باز</a> اجازهٔ ارسال پیام در چت را از کاربر گرفته‌باشید. <br>
<!-- -->همچنین ممکن است نیاز به دریافت دسترسی برای ارسال پیام در چت یا موارد دیگر از کاربر شوید که می‌توانید با استفاده از <a href="/kenar-docs/oauth/">احراز باز</a> در موردشان از کاربر اجازه بگیرید.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="خواندن-و-ارسال-پیام-در-تمام-مکالمات-مربوط-به-یک-آگهی-آزمایشی">خواندن و ارسال پیام در تمام مکالمات مربوط به یک آگهی (آزمایشی)<a href="#خواندن-و-ارسال-پیام-در-تمام-مکالمات-مربوط-به-یک-آگهی-آزمایشی" class="hash-link" aria-label="لینک مستقیم به خواندن و ارسال پیام در تمام مکالمات مربوط به یک آگهی (آزمایشی)" title="لینک مستقیم به خواندن و ارسال پیام در تمام مکالمات مربوط به یک آگهی (آزمایشی)">​</a></h2>
<p>برای خواندن پیام‌های چت به صورت لحظه‌ای می‌توانید از مستندات <a href="/kenar-docs/events/">مطلع شدن از رویداد‌های جدید</a> استفاده کنید.</p>
<p>همچنین برای ارسال پیام می‌توانید به مستندات <a href="/kenar-docs/chat/users_conversations">ارسال پیام در چت</a> مراجعه کنید.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="مکالمه-با-کاربر-به-شکل-چتبات-آزمایشی">مکالمه با کاربر به شکل چت‌بات (آزمایشی)<a href="#مکالمه-با-کاربر-به-شکل-چتبات-آزمایشی" class="hash-link" aria-label="لینک مستقیم به مکالمه با کاربر به شکل چت‌بات (آزمایشی)" title="لینک مستقیم به مکالمه با کاربر به شکل چت‌بات (آزمایشی)">​</a></h2>
<p>به منظور ایجاد و فعال‌سازی چت‌بات می‌توانید به پشتیبانی کنار دیوار تیکت بزنید و درخواست خود را مطرح کنید تا زیرساخت آن در دسترس شما قرار بگیرد.</p>
<p>در صورت برخوردار شدن از این امکان توسط پشتیبانی، با پر کردن مقدار <code>آدرس ارسال رویدادها</code> در پنل کنار، پیام‌های ارسالی به چت‌بات خود را دریافت خواهید کرد. برای اطلاعات بیشتر و فرمت درخواست‌های ارسالی می‌توانید <a href="/kenar-docs/chat/chatbot_conversations">اینجا</a> را مطالعه کنید.</p>
<p>همچنین می‌توانید به کاربرانی که به چت‌بات شما پیام داده‌اند، پیام بفرستید. برای اطلاعات بیشتر <a href="/kenar-docs/chat/chatbot_conversations">اینجا</a> را مطالعه کنید.</p>
<br>
<p>مثال چت: پیاده‌سازی
<a href="https://github.com/amirsalarsafaei/kenar-xo/tree/master" target="_blank" rel="noopener noreferrer">بازی ایکس او</a>
با کنار دیوار</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="دسترسی-سریع">دسترسی سریع<a href="#دسترسی-سریع" class="hash-link" aria-label="لینک مستقیم به دسترسی سریع" title="لینک مستقیم به دسترسی سریع">​</a></h2>
<ul>
<li><a href="/kenar-docs/oauth/">🔑 دریافت دسترسی‌ها از کاربر</a></li>
<li><a href="/kenar-docs/chat/users_conversations">↗️ ارسال پیام در چت کاربر</a></li>
<li><a href="/kenar-docs/chat/chatbot_conversations">↗️ ارسال پیام در چت بات</a></li>
</ul>
<br>
<br>
<div align="center"><img src="../img/wire-puzzle.svg" height="156px"></div>
<br>
<br></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/divar-ir/kenar-docs/tree/main/docs/docs/chat/ReadMe.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ویرایش مطالب این صفحه</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="صفحات مستندات"><a class="pagination-nav__link pagination-nav__link--prev" href="/kenar-docs/assets/"><div class="pagination-nav__sublabel">قبلی</div><div class="pagination-nav__label">اَسِت‌ها assets</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/kenar-docs/chat/chatbot_conversations"><div class="pagination-nav__sublabel">بعدی</div><div class="pagination-nav__label">مکالمه با چت‌بات (آزمایشی)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#نمایش-شما-به-عنوان-خدمتدهنده-به-کاربران" class="table-of-contents__link toc-highlight">نمایش شما به عنوان خدمت‌دهنده به کاربران</a></li><li><a href="#بازشدن-برنامه-توسط-کاربر" class="table-of-contents__link toc-highlight">بازشدن برنامه توسط کاربر</a></li><li><a href="#ارائهٔ-خدمات-در-برنامهٔ-تحت-وب-شما-و-بازگشت-به-دیوار" class="table-of-contents__link toc-highlight">ارائهٔ خدمات در برنامهٔ تحت وب شما و بازگشت به دیوار</a></li><li><a href="#خواندن-و-ارسال-پیام-در-تمام-مکالمات-مربوط-به-یک-آگهی-آزمایشی" class="table-of-contents__link toc-highlight">خواندن و ارسال پیام در تمام مکالمات مربوط به یک آگهی (آزمایشی)</a></li><li><a href="#مکالمه-با-کاربر-به-شکل-چتبات-آزمایشی" class="table-of-contents__link toc-highlight">مکالمه با کاربر به شکل چت‌بات (آزمایشی)</a></li><li><a href="#دسترسی-سریع" class="table-of-contents__link toc-highlight">دسترسی سریع</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">2025 © <a href="https://divar.ir/kenar" target="_blank">کنار دیوار</a></div></div></div></footer></div>
</body>
</html>