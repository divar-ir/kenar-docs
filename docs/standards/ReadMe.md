# استانداردها

در کنار دیوار برای بازکردن یک اپلیکیشن در اسکیل‌های بالا یا قرارگرفتن آن در فلوی اصلی ثبت آگهی دیوار لازم است استانداردهایی ورای استانداردها و پالیسی‌های کنار دیوار رعایت شود.


## صحت کارکرد (Functionality & Usability)

* لازم است که همه‌ی احرازهای انجام شده توسط افزونه شما صحیح باشد و در صورت مشاهدهٔ اطلاعات احرازی نادرست، برخورد خواهد شد.
* لازم است اطلاعاتی که کاربر برای احراز در افزونه شما وارد میکند با اطلاعات متناظر آن در آگهی (بجز اطلاعات موجود در عنوان، توضیحات و عکسها) منطبق باشد.
* لازم است اطلاعات ثانویه‌ای که در مورد آگهی بدست می‌آورید با اطلاعات متناظر آن در آگهی (بجز اطلاعات موجود در عنوان، توضیحات و عکسها) منطبق باشد. برای مثال رنگ ماشین که با VIN آن ممکن است دریافت کنید با رنگی که در آگهی ذکر شده منطبق باشد.
* لازم است مقدار VIN دریافتی در سمنتیک افزونه و با کلید VIN قرار داده شوند. این مقدار در دیوار لاگ یا ذخیره نمیشود و فقط به شکل هش برگشت ناپذیر و برای هدف یکتاسازی استفاده می‌شود.
* برنامه باید کاربردپذیر و [دسترس‌پذیر](https://docs.google.com/document/d/1BsEYX2cN9Q0zUW7lh-eD2xhxAyv2_wdmO9m8DEKFR50/edit?tab=t.0#heading=h.t1uko0ta253c) (دارای سطح AA استاندارد WCAG) باشد. کاربر باید بتواند با حداقل زمان لازم برای یادگیری و انجام عملیات به هدفش برسد.
* لازم است تا عملیات و وضعیت‌ها به درستی و با زبانی ساده و شفاف به کاربر اطلاع داده‌شود.
* در صورت نیاز به پرداخت وجه در زودترین قسمت در جریان کاری به اطلاع کاربر برسد.
* سادگی، یکپارچگی، رعایت سلسله مراتب و معماری اطلاعات در سطح قابل قبولی باشد.
* رابط کاربری باید واکنش‌گرا (Responsive) باشد تا روی موبایل و دسکتاپ به درستی نمایش داده‌شود.

### سمنتیک برای احراز مالکیت خودرو

این مقادیر یا به شکل اینام هستند یا به شکل هش شده نگهداری میشوند:  

```json
{
  "ownership_result": "OWNERSHIP_CONFIRMED",
  "VIN": "AB1234CD",
  "chassis_number": "123456ABC",
  "engine_number": "123456"
}
```
برای قراردادن رنگ، سال ساخت و نوع خودرو لازم است این مقادیر را در ویجت‌های جداگانه قرار دهید و از طریق کلید [semantic\_paths](../addons/create.md#%D8%B1%DB%8C%DA%A9%D9%88%D8%A6%D8%B3%D8%AA) به آنها اشاره کنید. کلیدهای سمنتیک پث به شکل زیر باشند:  

```json
  "color": "text",
  "year": "text",
  "brand_model": "text",
```
مقادیر بالا به شکل پابلیک رو روی ویجت‌ها قرار میگیرند.

## زمان پاسخگویی (Response time)

1. صفحات در p99 کمتر از ۵۰۰ میلی‌ثانیه لود شوند.  
2. صفحات در p999 کمتر از ۲۰۰۰ میلی‌ثانیه لود شوند.  
3. ریکوئست‌های ثانویه با همان زمان‌های p99 و p999 ذکر شده پاسخ داده شوند. درصورتی که ریکوئست ثانویه نداشته باشد، زمان لود شدن می‌تواند تا ۱.۵ برابر باشد.  
4. سایز کل اطلاعات ترانسفر شده تا لود کامل هر صفحه بدون در نظر گرفتن کش باید کمتر از ۴۰۰ کیلوبایت باشد.  
5. اپلیکیشن دیوار از اندروید نسخه ۵.۰ (ورژن ۲۱) قابل نصب و اجراست. لازم است اپلیکیشن شما روی بالاترین نسخه قابل ارتقای سیستم وب‌ویو روی اندروید ۵ بدرستی کار کند.  

### توضیحات: 
- منظور از ریکوئست ثانویه، درخواست‌هایی هستند که پس از لود شدن وب‌اپ انجام می‌شوند و پیش از آن، اپلیکیشن کاربردی نیست. برای مثال ممکن است اپ Reactی شما در ۲۰۰ میلی‌ثانیه لود شود ولی محتوای فرم پس از ریکوئست ثانویه و سپری شدن ۱ ثانیه نمایش داده شود که قابل قبول نیست. با اینحال، ریکوئست آنالیتیکز ارتباطی به کاربردپذیر بودن ندارد و میتواند هر مقدار زمان ببرد.
- اندازی‌گیری تایمینگ از زمان تغییر location است و شامل زمان هندشیک هم میشود. لذا توصیه میشود از همین ابتدا از CDN استفاده کنید.
- اندازه گیری آپتایم از همان بودجه تایمینگ است و برای ریکوئست‌های دارای خطا یا تایم‌اوت، مقدار ۵ ثانیه در محاسبات قرار داده میشود.
- در صورتی که وابستگی‌هایی به دیگر سرویس‌ها، مثلا ناجی، دارید لازم است خرابی یا کیفیت سرویس آنها روی تجربه کاربری اثر منفی نگذارد. به این ترتیب طراحی اپلیکیشن شما بهتر است async باشد و در مراجعه بعدی کاربر یا در همان session و با UX مناسب، این موضوع که در حال بررسی صحت اطلاعات هستید را به اطلاع کاربر برسانید.

## در دسترس بودن (Availability)

لازم است در زمان قطعی از طریق شماره تماس اضطراری که از طریق تیکت در پنل میتواند آنرا دریافت کنید، فوراً وضعیت را به اطلاع برسانید تا اپ شما موقتا از دسترس خارج شود. سپس میتوانید با ساخت تیکتی تغییر وضعیت اپ خود را پیگیری کنید.

## امنیت (Security)

لازم است برای بررسی امنیتی Audit در هر زمان از ساعات کاری در دسترس باشد و به نماینده دیوار دسترسی‌های لازم را بدهد. این بررسی دوره‌ای در زمان‌های نامشخص انجام می‌شود و جهت اطمینان از حفظ حریم خصوصی و اطلاعات کاربران دیوار است. وجود مشکلات یا رخنه‌های امنیتی می‌تواند منجر به معلق شدن اپ تا زمان برطرف کردن مشکل یا حذف درازمدت اپ شما شود. در نظر داشته باشید که اگرچه کیفیت و صحت کارکرد محصول شما برای دیوار بسیار حائز اهمیت است، حفظ حریم شخصی و اطلاعات کاربران خط قرمز دیوار است. هدف از Audit توسط تیم امنیت، حصول اقدامات پیشگیرانه برای کاهش ریسک نشت اطلاعات یا بخطر افتادن دارایی‌های کاربران دیوار است.  
[این چک‌لیست سکیوریتی](security.md) شامل مواردی هست که رعایت آنها سطح امنیت اپلیکیشن شما را افزایش میدهد. برخی موارد این چک لیست ممکن است بدلیل تحریم در دسترس شرکت‌های ایرانی نباشد. برای این موارد میتوانید از روش‌های جایگزین اوپن‌سورس یا از محصولات شرکت‌های ایرانی مثل همروش یا آروان استفاده کنید.

## پشتیبانی (Support)

چت‌بات پشتیبانی در پروفایل فعال و پاسخگو باشد.  
مرکز تماس تلفنی (حداقل ۱۲ ساعته) فعال باشد.   
در صورت اختلال در خطوط پشتیبانی، حتماً این مورد به تیم دیوار اطلاع‌رسانی شود.   
تغییرات اطلاعات پشتیبانی (مانند شماره‌ی تلفن) در اسرع وقت به تیم دیوار اطلاع رسانی و در پنل بروز شود.

## حریم خصوصی کاربر (Privacy)

تنها اطلاعات و داده‌هایی را از کاربرها بگیرید که برای ارائه‌ی سرویس شما لازم هستند. استفاده‌ی این اطلاعات را برای کاربرها شفاف کنید، و از استفاده‌ی از آن‌ها به مقاصد دیگر، یا دریافت اطلاعات بیشتر خودداری کنید. این قاعده محدود به اطلاعات ارائه شده توسط دیوار (با اجازه‌ی کاربر) نیست و برای دریافت اطلاعات به شکل مستقیم از طریق کاربر نیز الزامیست.  
تا جای ممکن از ذخیره‌سازی هر گونه اطلاعات شخصی کاربران بپرهیزید. به عنوان مثال، به هیچ‌وجه اطلاعات شخصی حساسی مثل آدرس، کد ملی، پیام‌های چت، و ... را نگهداری نکنید. در صورت نیاز به نگهداری، این اطلاعات را در حداقل زمان ممکن نگهداری کنید و بعد از گذشت این زمان، آن‌ها را پاک کنید. در صورت ذخیره‌سازی اطلاعات شخصی حساس، حتما این موضوع را به اطلاع تیم دیوار برسانید و در مورد مدت زمان نگهداری، تدابیر امنیتی، و نحوه‌ی اطلاع‌رسانی با ما هماهنگ شوید.  
در صورت ذخیره‌سازی هر گونه اطلاعات شخصی کاربرها به هر مدت، شما موظفید این موضوع را به شکل عمومی و در جایی با دسترسی راحت برای کاربرها، اطلاع‌رسانی کنید. برای هر مورد، اطلاعات ذخیره شده، مدت زمان ذخیره‌سازی، و دلیل ذخیره‌سازی را کاملا شفاف، ساده و دقیق اطلاع‌رسانی کنید. در صورت نقض این قاعده، تیم دیوار می‌تواند بدون اطلاع قبلی افزونه‌ی شما را از دسترس خارج سازد.

