# ูุฑุงุด ุขฺฏู (ูุณุฎู ฒ)

| Edit Post V2   |                                                     |
|----------------|-----------------------------------------------------|
| OAUTH Scope | <code dir="ltr">POST_EDIT.&lt;post_token&gt;</code> |

ุงู ุงูุฏูพููุช ูุณุฎู ูพุดุฑูุชูโุชุฑ API ูุฑุงุด ุขฺฏู ุงุณุช ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ **ููุฏ ูุงุณฺฉ** (Field Mask) ุงูฺฉุงู ูุฑุงุด ุฏููโุชุฑ ู ฺฉูุชุฑู ุดุฏูโุชุฑ ููุฏูุง ุขฺฏู ุฑุง ูุฑุงูู ูโฺฉูุฏ.

> ๐ **ูุณุชูุฏุงุช OpenAPI**: ุจุฑุง ูุดุงูุฏู ูุณุชูุฏุงุช ฺฉุงูู ุงู APIุ ุจู [ุตูุญู OpenAPI](https://kenar.divar.dev/openapi-doc/post-edit-post-v-2) ูุฑุงุฌุนู ฺฉูุฏ.

## ูุฒุงุง ูุณุฎู ฒ

- **ูุฑุงุด ูููุนุช ู ุณุงุฑ ูฺฺฏโูุง**: ุนูุงูู ุจุฑ ุนููุงู ู ุชูุถุญุงุชุ ุงูฺฉุงู ูุฑุงุด ูููุนุช ุฌุบุฑุงูุงุ ุดูุฑุ ูุญูู ู ุณุงุฑ ูฺฺฏโูุง ุขฺฏู
- **ูพุดุชุจุงู ุงุฒ ููุฏูุง ุฏุณุชูโุจูุฏ**: ุงูฺฉุงู ูุฑุงุด ููุฏูุง ูุฎุตูุต ูุฑ ุฏุณุชูโุจูุฏ
- **ูุฑุงุด ุงูุชุฎุงุจ**: ุจุง ุงุณุชูุงุฏู ุงุฒ `update_mask` ูโุชูุงูุฏ ุฏููุงู ูุดุฎุต ฺฉูุฏ ฺฉุฏุงู ููุฏูุง ุจุงุฏ ุจูโุฑูุฒุฑุณุงู ุดููุฏ

ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงู ุงูุฏูพููุช ุจุงุฏ ุฏุณุชุฑุณ <code dir="ltr">POST_EDIT.&lt;post_token&gt;</code> ุฑุง ุฏุฑ ูุฑุขูุฏ ุงุญุฑุงุฒ ุจุงุฒ ุงุฒ ฺฉุงุฑุจุฑ ุฏุฑุงูุช ฺฉูุฏ.
<br />

## ุฏุฑุฎูุงุณุช

```http request
PUT https://open-api.divar.ir/v2/open-platform/post/<token>
Authorization: Bearer {{access_token_with_oauth_scope_POST_EDIT.<post_token>}}
x-api-key: {{apikey}}
Content-Type: application/json

{
    "update_mask": [
        "general_data.title",
        "general_data.hide_phone",
        "category_data.usage"
    ],
    "general_data": {
        "title": "ุนููุงู ุฌุฏุฏ ุขฺฏู",
        "hide_phone": true
    },
    "category_data": {
        "usage": 100000
    }
}
```

### ููุฏ ูุงุณฺฉ (update_mask)

ููุฏ `update_mask` ฺฉ ุขุฑุงู ุงุฒ ุฑุดุชูโูุง ุงุณุช ฺฉู ูุดุฎุต ูโฺฉูุฏ ฺฉุฏุงู ููุฏูุง ุจุงุฏ ุจูโุฑูุฒุฑุณุงู ุดููุฏ. ุงุณุชูุงุฏู ุงุฒ ููุฏ ูุงุณฺฉ ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ:

1. **ููุท ููุฏูุง ููุฑุฏ ูุธุฑ ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ**: ุงฺฏุฑ ููุฏ ุฏุฑ `update_mask` ูุจุงุดุฏุ ุญุช ุงฺฏุฑ ุฏุฑ ุจุฏูู ุฏุฑุฎูุงุณุช ุงุฑุณุงู ุดูุฏุ ุจูโุฑูุฒุฑุณุงู ูุฎูุงูุฏ ุดุฏ.

2. **ุงุฒ ูุณุฑูุง ุชู ุฏุฑ ุชู ุงุณุชูุงุฏู ฺฉูุฏ**: 
   - ุจุฑุง ููุฏูุง ุนููู: `general_data.<field_name>`
   - ุจุฑุง ููุฏูุง ุฏุณุชูโุจูุฏ: `category_data.<field_name>`

### ุณุงุฎุชุงุฑ general_data

ููุฏูุง ูุงุจู ูุฑุงุด ุฏุฑ `general_data`:

| ููุฏ | ููุน | ุชูุถุญุงุช |
|------|-----|---------|
| `title` | string | ุนููุงู ุขฺฏู |
| `description` | string | ุชูุถุญุงุช ุขฺฏู |
| `images` | array[string] | ุขุฑุงู ูุณุฑูุง ุชุตุงูุฑ |
| `district` | string | ูุญูู ุขฺฏู |
| `latitude` | number | ุนุฑุถ ุฌุบุฑุงูุง |
| `longitude` | number | ุทูู ุฌุบุฑุงูุง |
| `location_type` | string | ููุน ูููุนุช |
| `chat_enabled` | boolean | ูุนุงู ุจูุฏู ุงูฺฉุงู ฺุช |
| `hide_phone` | boolean | ุนุฏู ููุงุด ุดูุงุฑู ุชูุงุณ |

### ุณุงุฎุชุงุฑ category_data

ููุฏูุง `category_data` ุจู ุฏุณุชูโุจูุฏ ุขฺฏู ุจุณุชฺฏ ุฏุงุฑูุฏ. ุจุฑุง ูุดุงูุฏู ููุฏูุง ูุงุจู ูุฑุงุด ุฏุฑ ูุฑ ุฏุณุชูโุจูุฏุ ูโุชูุงูุฏ ุงุฒ [ุงู API](https://divar-ir.github.io/kenar-docs/openapi-doc/assets-get-submit-schema/) ุงุณุชูุงุฏู ฺฉูุฏ.

## ูพุงุณุฎ

ุฏุฑ ุตูุฑุช ูููู ุจูุฏู ูุฑุงุด ุขฺฏูุ ูพุงุณุฎ ุฎุงู ุจุง ฺฉุฏ 200 ุจุฑฺฏุฑุฏุงูุฏู ูุดูุฏ:

```json
{}
```

## ูฺฉุงุช ููู

1. **ููุฏ update_mask ุงุฌุจุงุฑ ุงุณุช**: ุงู ููุฏ ุจุงุฏ ุฏุฑ ุชูุงู ุฏุฑุฎูุงุณุชโูุง ุงุฑุณุงู ุดูุฏ.

2. **ุนุฏู ุงุฑุณุงู ููุฏ ุฏุฑ update_mask**: ุงฺฏุฑ ููุฏ ุฏุฑ `update_mask` ูุจุงุดุฏุ ุญุช ุงฺฏุฑ ุฏุฑ ุจุฏูู ุฏุฑุฎูุงุณุช ุงุฑุณุงู ุดูุฏุ ุจูโุฑูุฒุฑุณุงู ูุฎูุงูุฏ ุดุฏ.

3. **ูุงูุจ ููุฏูุง ุฏุณุชูโุจูุฏ**: ููุฏูุง `category_data` ุจุงุฏ ูุทุงุจู ูุงูุจ ุฏุณุชูโุจูุฏ ุขฺฏู ุจุงุดูุฏ. ุจุฑุง ุฏุฑุงูุช ูุงูุจ ุงุฒ [ุงู API](https://divar-ir.github.io/kenar-docs/openapi-doc/assets-get-submit-schema/) ุงุณุชูุงุฏู ฺฉูุฏ.

4. **ุขูพููุฏ ุชุตุงูุฑ**: ุจุฑุง ุขูพููุฏ ุชุตุงูุฑ ุฌุฏุฏ ูโุชูุงูุฏ ุงุฒ [ุงู ุงูุฏูพููุช](./get_image_upload_url.md) ุงุณุชูุงุฏู ฺฉูุฏ.
