# قیمت‌گذاری آگهی

با استفاده از این API و با مجوز کاربر، می‌توانید قیمت خدمات مختلف مانند نردبان، تمدید و ثبت آگهی را دریافت کنید. قیمت این API لزوماً همان قیمتی که در دیوار نمایش داده می‌شود نیست و ممکن است قیمت‌گذاری متفاوت باشد. از این API برای دریافت قیمت قبل از اعمال خدمات (مانند نردبان یا تمدید آگهی) استفاده کنید.

## دسترسی‌های مورد نیاز

برای استفاده از این API نیاز به دسترسی‌های زیر دارید:
- دسترسی OAuth: `PAYMENT_ALL_POSTS_PRICING_READ`
- دسترسی API Key: `POST_PRICING_RETRIEVE`

## دریافت قیمت‌گذاری آگهی

```http request
GET https://open-api.divar.ir/v1/open-platform/post/{{post_token}}/pricing
x-api-key: {{apikey}}
Authorization: Bearer {{access_token}}
```

## پارامترهای درخواست

|   پارامتر    |  نوع   | اجباری |                                      توضیحات |
|:------------:|:------:|:-------:|---------------------------------------------:|
| `post_token` | string |   بله   | شناسه منحصر به فرد آگهی که ۸ تا ۹ کاراکتر است |

## پاسخ

```json
{
    "reorder": {
        "cost_rials": "400000",
        "available": true
    },
    "submit": {
        "cost_rials": "500000",
        "available": false
    },
    "renew": {
        "cost_rials": "350000",
        "available": true
    }
}
```

## پارامترهای پاسخ

پاسخ این API شامل اطلاعات قیمت و امکان‌پذیری برای خدمات مختلف است. هر کلید در پاسخ نشان‌دهنده یک نوع سرویس است:

### شیء Reorder

|    پارامتر    |  نوع   |                                                                                توضیحات |
|:-------------:|:------:|--------------------------------------------------------------------------------------:|
| `cost_rials`  | int64  |                                                             هزینه نردبان به ریال |
| `available`   | bool   | نشان می‌دهد که آیا آگهی قابل نردبان است یا خیر. اگر false باشد، API نردبان خطا برمی‌گرداند |

### شیء Submit

|    پارامتر    |  نوع   |                                                                                توضیحات |
|:-------------:|:------:|--------------------------------------------------------------------------------------:|
| `cost_rials`  | int64  |                                                             هزینه ثبت آگهی به ریال |
| `available`   | bool   | نشان می‌دهد که آیا امکان ثبت آگهی وجود دارد یا خیر |

### شیء Renew

|    پارامتر    |  نوع   |                                                                                توضیحات |
|:-------------:|:------:|--------------------------------------------------------------------------------------:|
| `cost_rials`  | int64  |                                                             هزینه تمدید آگهی به ریال |
| `available`   | bool   | نشان می‌دهد که آیا آگهی قابل تمدید است یا خیر. اگر false باشد، API تمدید خطا برمی‌گرداند |

## نکات مهم

- قیمت‌ها در ریال محاسبه می‌شوند
- قبل از هر درخواست نردبان یا تمدید یا پرداخت هزینه ثبت آگهی، باید از این API برای بررسی قیمت و امکان‌پذیری استفاده کنید
- در صورتی که `available` برابر `false` باشد یا کلید مربوط به سرویس وجود نداشته باشد، نمی‌توانید از آن سرویس استفاده کنید
- قیمت‌ها ممکن است به مرور زمان تغییر کنند
