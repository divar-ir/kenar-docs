# نردبان

این API برای نردبان کردن آگهی‌ها در صفحه اصلی دیوار استفاده می‌شود. با استفاده از این سرویس می‌توانید یک آگهی‌ را در موقعیت‌ بالاتری در لیست دیوار نمایش دهید.

## دسترسی‌های مورد نیاز

برای استفاده از این API نیاز به دسترسی‌های زیر دارید:
- دسترسی OAuth: `PAYMENT_ALL_POSTS_REORDER`
- دسترسی API Key: `POST_REORDER`

## نردبان آگهی

```http request
POST https://open-api.divar.ir/experimental/open-platform/post/{{post_token}}/reorder
Content-Type: application/json
x-api-key: {{apikey}}
Authorization: Bearer {{access_token}}

{
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "extra_details": "Details for tracking purposes"
}
```

## پارامترهای درخواست

|    پارامتر     |  نوع   | اجباری |                                                                                                                                                                                                                                                       توضیحات |
|:--------------:|:------:|:-------:|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
|  `post_token`  | string |   بله   |                                                                                                                                                                               شناسه منحصر به فرد آگهی که ۸ تا ۹ کاراکتر است |
|      `id`      | string |   بله   | یک UUID نسخه ۴ که باید برای هر پرداخت منحصر به فرد باشد. این uuid باید از سمت شما تولید شده و در درخواست ارسال شود. اگر id ای ارسال شود که تراکنش موفق یا نیمه موفقی در سمت کنار داشته باشد، خطا دریافت خواهید کرد |
| `extra_details` | string |  خیر   |                                                                                                                     جزئیات اضافی که می‌خواهید به سمت کنار ارسال کنید. این فیلد اختیاری است و می‌تواند برای حل ناسازگاری‌های تراکنش استفاده شود |

## پاسخ

```json
{
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "cost_rials": 50000
}
```

## پارامترهای پاسخ

|    پارامتر    |  نوع   |                                              توضیحات |
|:-------------:|:------:|----------------------------------------------------:|
|     `id`      | string |                 همان uuid که در درخواست ارسال شده |
| `cost_rials`  | int64  | هزینه تراکنش به ریال برای برنامه‌ی شما |

## نکات مهم

- قبل از استفاده از این API، حتماً از API قیمت‌گذاری آگهی برای دریافت هزینه و فراهم بودن امکان نردبان کردن آگهی استفاده کنید
- هر UUID فقط یک بار قابل استفاده است
- در صورت موفقیت، آگهی در موقعیت بالاتری نمایش داده خواهد شد
- هزینه از موجودی برنامه‌ی شما کسر خواهد شد
- امکان نردبان کردن آگهی، در مدت کوتاهی پس از ثبت شدن آگهی و نردبان‌های قبلی وجود ندارد
