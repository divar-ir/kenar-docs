<!doctype html><html lang=fa-IR dir=rtl class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-oauth/ReadMe" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>احراز باز | مستندات کنار دیوار</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true name=docusaurus_locale content=fa-IR><meta data-rh=true name=docsearch:language content=fa-IR><meta data-rh=true property=og:image content=https://kenar.divar.dev/img/logo.svg><meta data-rh=true property=og:url content=https://kenar.divar.dev/><meta data-rh=true property=og:locale content=fa_IR><meta data-rh=true name=twitter:title content="کنار دیوار - مستندات فنی"><meta data-rh=true name=twitter:description content="مستندات کامل API های کنار دیوار - راهنمای توسعه‌دهندگان برای ادغام با پلتفرم دیوار"><meta data-rh=true name=twitter:image content=https://kenar.divar.dev/img/logo.svg><meta data-rh=true name=application-name content="کنار دیوار"><meta data-rh=true name=apple-mobile-web-app-title content="کنار دیوار"><meta data-rh=true name=theme-color content=#a62626><meta data-rh=true name=msapplication-TileColor content=#a62626><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="احراز باز | مستندات کنار دیوار"><meta data-rh=true name=description content="برخی قابلیت‌های کنار دیوار‌ نیازمند اجازه‌ی کاربرها هستند"><meta data-rh=true property=og:description content="برخی قابلیت‌های کنار دیوار‌ نیازمند اجازه‌ی کاربرها هستند"><link data-rh=true rel=icon href=/kenar-docs/img/favicon.ico><link data-rh=true rel=canonical href=https://divar-ir.github.io/kenar-docs/oauth/><link data-rh=true rel=alternate href=https://divar-ir.github.io/kenar-docs/oauth/ hreflang=fa-IR><link data-rh=true rel=alternate href=https://divar-ir.github.io/kenar-docs/oauth/ hreflang=x-default><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://divar-ir.github.io/kenar-docs/oauth/","name":"احراز باز","position":1}]}</script><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-BG3FF4TN87"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BG3FF4TN87",{anonymize_ip:!0})</script><link rel=search type=application/opensearchdescription+xml title="مستندات کنار دیوار" href=/kenar-docs/opensearch.xml><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.css><meta name=keywords content="کنار دیوار, API, مستندات, توسعه‌دهنده, دیوار, kenar, divar, documentation, developer, REST API, webhook"><meta name=author content=Divar><meta name=robots content="index, follow"><meta property=og:type content=website><meta property=og:site_name content="کنار دیوار - مستندات فنی"><meta name=twitter:card content=summary_large_image><meta name=twitter:site content=@divar_ir><link rel=canonical href=https://kenar.divar.dev/><link rel=manifest href=/kenar-docs/manifest.json><link rel=apple-touch-icon href=/kenar-docs/img/logo.svg><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=default><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","author":{"@type":"Organization","name":"Divar","url":"https://divar.ir/kenar"},"description":"راهنمای کامل توسعه‌دهندگان برای استفاده از API های کنار دیوار","headline":"مستندات فنی کنار دیوار","inLanguage":"fa-IR","mainEntityOfPage":{"@id":"https://kenar.divar.dev/","@type":"WebPage"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://kenar.divar.dev/img/logo.svg"},"name":"Divar"}}</script><link rel=stylesheet href=/kenar-docs/assets/css/styles.0e9c428e.css><script src=/kenar-docs/assets/js/runtime~main.10e68ae3.js defer></script><script src=/kenar-docs/assets/js/main.2614769a.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="پرش به مطلب اصلی"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>پرش به مطلب اصلی</a></div><nav aria-label="صفحه اصلی" class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="باز و بست منو" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/kenar-docs/><div class=navbar__logo><img src=/kenar-docs/img/logo.svg alt="کنار دیوار" class="themedComponent_mlkZ themedComponent--light_NVdE" width=96><img src=/kenar-docs/img/logo.svg alt="کنار دیوار" class="themedComponent_mlkZ themedComponent--dark_xIcU" width=96></div><b class="navbar__title text--truncate">| مستندات فنی</b></a><a href=https://github.com/divar-ir/kenar-docs target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><a class="navbar__item navbar__link" href=/kenar-docs/openapi-doc>مستندات API(Swagger)</a><a href=https://divar.ir/kenar target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">پنل کنار<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="بین حالت تاریک و روشن سوئیچ کنید (الان system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><biel-search-button project=mxzem86g2j button-style=rounded header-title="هوش مصنوعی کنار">جستوجو</biel-search-button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="بازگشت به بالا" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="نوار کناری مستندات" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/openapi-doc>مستندات API</a><button aria-label="باز کردن دسته بندی در نوار کناری 'مستندات API'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/kenar-docs/>کنار دیوار</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/addons/>افزونه ها</a><button aria-label="باز کردن دسته بندی در نوار کناری 'افزونه ها'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/kenar-docs/assets/>اَسِت‌ها assets</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/chat/>افزونه‌های چت دیوار</a><button aria-label="باز کردن دسته بندی در نوار کناری 'افزونه‌های چت دیوار'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/development/>محیط توسعه و تست</a><button aria-label="باز کردن دسته بندی در نوار کناری 'محیط توسعه و تست'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/divar/>مفاهیم دیوار</a><button aria-label="باز کردن دسته بندی در نوار کناری 'مفاهیم دیوار'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/events/>دریافت رویدادها در لحظه</a><button aria-label="باز کردن دسته بندی در نوار کناری 'دریافت رویدادها در لحظه'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/flow/>سفر کاربر در افزونه‌های کنار: از دیوار به افزونه و بازگشت</a><button aria-label="باز کردن دسته بندی در نوار کناری 'سفر کاربر در افزونه‌های کنار: از دیوار به افزونه و بازگشت'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/management/>پنل مدیریت اپلیکیشن‌ها</a><button aria-label="باز کردن دسته بندی در نوار کناری 'پنل مدیریت اپلیکیشن‌ها'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/migrations/>مهاجرت ها</a><button aria-label="باز کردن دسته بندی در نوار کناری 'مهاجرت ها'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/misc/>متفرقه</a><button aria-label="باز کردن دسته بندی در نوار کناری 'متفرقه'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current=page href=/kenar-docs/oauth/>احراز باز</a><button aria-label="بستن دسته بندی در نوار کناری 'احراز باز'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/kenar-docs/oauth/get_user>دریافت اطلاعات کاربر</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/payment/>پرداخت و کیف پول</a><button aria-label="باز کردن دسته بندی در نوار کناری 'پرداخت و کیف پول'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/payment-ticket/>فلوی تیکت پرداخت (پرداخت هزینه سرویس شما توسط دیوار)</a><button aria-label="باز کردن دسته بندی در نوار کناری 'فلوی تیکت پرداخت (پرداخت هزینه سرویس شما توسط دیوار)'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/post/>آگهی</a><button aria-label="باز کردن دسته بندی در نوار کناری 'آگهی'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/kenar-docs/scopes/>محدودیت‌های API و Rate Limit</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/semantic/>اطلاعات معنایی</a><button aria-label="باز کردن دسته بندی در نوار کناری 'اطلاعات معنایی'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/kenar-docs/widgets/>ویجت و اکشن های دیوار (UI در کنار)</a><button aria-label="باز کردن دسته بندی در نوار کناری 'ویجت و اکشن های دیوار (UI در کنار)'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href=https://divar.ir/kenar target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">پنل کنار<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></nav><button type=button title="بستن نوار کناری" aria-label="بستن نوار کناری" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_kv0_><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_xLCN"><div class=docItemContainer_jfFK><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="نشانگر صفحات"><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="صفحه اصلی" class=breadcrumbs__link href=/kenar-docs/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>احراز باز</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">مطالب این صفحه</button></div><div class="theme-doc-markdown markdown"><div class=row><div class="col col--12 markdown"><header><h1>احراز باز</h1></header>
<p>برخی قابلیت‌های <strong>کنار دیوار</strong>‌ نیازمند اجازه‌ی کاربرها هستند: مثلا <a href=/kenar-docs/addons/post_addons>افزودن محتوا به آگهی</a> یا <a href=/kenar-docs/oauth/get_user>دریافت اطلاعات کاربر</a> نیازمند کسب اجازه از کاربر است. در <strong>کنار دیوار</strong>، فرآیند کسب اجازه از کاربر طبق استاندارد <a href=https://oauth.net/2/ target=_blank rel="noopener noreferrer">OAuth 2.0</a> انجام می‌شود:</p>
<p>۱. 🖐️ اپلیکیشن کاربر را برای کسب اجازه <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%A7%D9%88%D9%84-%D8%AF%D8%B1%D8%AE%D9%88%D8%A7%D8%B3%D8%AA-%D8%A7%D8%AC%D8%A7%D8%B2%D9%87>به دیوار هدایت (redirect) می‌کند</a>. <br>
<!-- -->۲. ↪️ کاربر، بعد از صدور یا رد اجازه‌های درخواستی، <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%AF%D9%88%D9%85-%D8%A8%D8%A7%D8%B2%DA%AF%D8%B4%D8%AA-%D8%A8%D9%87-%D8%A7%D9%BE%D9%84%DB%8C%DA%A9%DB%8C%D8%B4%D9%86>به آدرس مشخص‌شده توسط اپلیکیشن (redirect URI) هدایت می‌شود</a>. <br>
<!-- -->۳. 🗝️ درصورت صدور اجازه، اپلیکیشن می‌تواند از دیوار <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%B3%D9%88%D9%85-%D8%AF%D8%B1%DB%8C%D8%A7%D9%81%D8%AA-%D8%AA%D9%88%DA%A9%D9%86>توکنی (access token) برای استفاده از قابلیت‌های مدنظر دریافت ‌کند</a>. <br>
<!-- -->۴. 🔮 اپلیکیشن با استفاده از توکن دریافتی، <a href=/kenar-docs/oauth/#-%DA%AF%D8%A7%D9%85-%DA%86%D9%87%D8%A7%D8%B1%D9%85-%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D8%AA%D9%88%DA%A9%D9%86>از قابلیت‌های مدنظر استفاده می‌کند</a>. <br>
<!-- -->۵. ♻️ در صورت نیاز، اپلیکیشن با استفاده از رفرش توکن دریافتی، <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D9%BE%D9%86%D8%AC%D9%85-%D8%A7%D8%AE%D8%AA%DB%8C%D8%A7%D8%B1%DB%8C-%D8%AF%D8%B1%DB%8C%D8%A7%D9%81%D8%AA-%D8%B1%D9%81%D8%B1%D8%B4-%D8%AA%D9%88%DA%A9%D9%86>می‌تواند توکن جدید دریافت کند</a>.</p>
<br>
<br>
<!-- -->
<br>
<br>
<hr>
<p>🚀 ابزارهای متنوعی برای کار با استاندارد OAuth 2.0 در زبان‌ها و فریم‌ورک‌های مختلف وجود دارد. برخی از این ابزارها را می‌توانید <a href=https://oauth.net/code/ target=_blank rel="noopener noreferrer">اینجا ببینید</a>.</p>
<hr>
<br>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=️-گام-اول-درخواست-اجازه>🖐️ گام اول: درخواست اجازه<a href=#️-گام-اول-درخواست-اجازه class=hash-link aria-label="لینک مستقیم به 🖐️ گام اول: درخواست اجازه" title="لینک مستقیم به 🖐️ گام اول: درخواست اجازه">​</a></h2>
<p>برای درخواست اجازه، کاربر را به آدرسی به شکل زیر هدایت (redirect) کنید:</p>
<div class="language-url codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-url codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">https://oauth.divar.ir/oauth2/auth?response_type=code</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  &client_id=&lt;app-slug></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  &redirect_uri=&lt;redirect-uri></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  &scope=&lt;scopes></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  &state=&lt;state></span><br></span></code></pre></div></div>
<ul>
<li><em>پارامتر <code>client_id</code></em>: در این پارامتر <a href=/kenar-docs/management#slug>شناسه‌ی اپلیکیشن (Slug در پنل کنار)</a> را قرار دهید.</li>
<li><em>پارامتر <code>redirect_uri</code></em>: آدرسی از اپلیکیشن که کاربر بعد از صدور (یا رد) اجازه‌های درخواستی به آن هدایت شود.<!-- -->
<ul>
<li>هیچ پارامتری در این آدرس قرار ندهید!</li>
<li>مقدار <code>redirect_uri</code> حتما باید <a href=https://www.w3schools.com/tags/ref_urlencode.ASP target=_blank rel="noopener noreferrer">URL encode</a> شده باشد.</li>
<li>این آدرس باید با یکی از آدرس هایی که در <a href=https://divar.ir/kenar target=_blank rel="noopener noreferrer">پنل کنار</a> به منظور آدرس‌های مجاز برای هدایت از OAuth تنظیم کرده‌اید مطابقت داشته باشد.</li>
</ul>
</li>
<li><em>پارامتر <code>scope</code></em>: اجازه‌های مورد نیاز را در این پارامتر لیست و با اسپیس <code>" "</code> از هم جدا کنید. <a href=/kenar-docs/oauth/#-%D8%A7%D8%AC%D8%A7%D8%B2%D9%87%D9%87%D8%A7-scope>در مورد اجازه‌ها اینجا را بخوانید</a>.<!-- -->
<ul>
<li>مقدار <code>scope</code> حتما باید <a href=https://www.w3schools.com/tags/ref_urlencode.ASP target=_blank rel="noopener noreferrer">URL encode</a> شده باشد.</li>
<li>در صورتی که نیاز به refresh_token دارید می‌توانید، offline_access را نیز در لیست scopeها ارسال کنید تا در پاسخ، refresh_token دریافت کنید. اطلاعات بیشتر را در <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D9%BE%D9%86%D8%AC%D9%85-%D8%A7%D8%AE%D8%AA%DB%8C%D8%A7%D8%B1%DB%8C-%D8%AF%D8%B1%DB%8C%D8%A7%D9%81%D8%AA-%D8%B1%D9%81%D8%B1%D8%B4-%D8%AA%D9%88%DA%A9%D9%86>گام پنجم</a> بخوانید.</li>
</ul>
</li>
<li><em>پارامتر <code>state</code></em>: یک مقدار دلخواه که در بازگشت کاربر به اپلیکیشن شما مجدد در پارامترهای URL قرار می‌گیرد.<!-- -->
<ul>
<li>با استفاده از پارامتر <code>state</code> می‌توانید منشاء درخواست بازگشته را احراز نمایید.</li>
<li>اگر برای <code>redirect_uri</code> نیاز به تنظیم پارامتری دارید، مقادیر این پارامترها را می‌توانید در <code>state</code> ذخیره کنید.</li>
<li>دقت کنید که حتما <code>state</code> شامل مقادیری یکتا و تصادفی باشد تا بتوانید <a href=https://stackoverflow.com/questions/26132066/what-is-the-purpose-of-the-state-parameter-in-oauth-authorization-request target=_blank rel="noopener noreferrer">درخواست‌های بازگشت دروغین</a> را تشخیص دهید.</li>
</ul>
</li>
</ul>
<br>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=-اجازهها-scope>🛂 اجازه‌ها (Scope)<a href=#-اجازهها-scope class=hash-link aria-label="لینک مستقیم به 🛂 اجازه‌ها (Scope)" title="لینک مستقیم به 🛂 اجازه‌ها (Scope)">​</a></h3>
<p>قابلیت‌های مختلف، نیازمند کسب اجازه (یا scope)های متفاوت از کاربر هستند. برخی از این اجازه‌ها مربوط به <em>شیء خاصی</em> هستند: مثلا برای افزودن محتوا به یک آگهی خاص، می‌بایست اجازه‌ی ساخت افزونه بر روی همان آگهی را از کاربر دریافت کنید. این نوع اجازه‌ها از شکل کلی <code>SCOPE.IDENTIFIER</code> تبعیت می‌کنند که در آن:</p>
<ul>
<li>قسمت <code>SCOPE</code> نمایانگر کلی اجازه‌ی مربوطه (مثلا <a href=/kenar-docs/addons/post_addons>اضافه کردن افزونه به آگهی</a>) است.</li>
<li>قسمت <code>IDENTIFIER</code> نمایانگر <em>شیء خاصیست</em> که اجازه مربوط به آنست (مثلا شناسه‌ی آگهی).</li>
</ul>
<br>
<blockquote>
<p>💡 <strong><em>مثال</em></strong> <br>
<!-- -->برای دریافت اجازه‌ برای اضافه کردن افزونه به آگهی با شناسه‌ی <code>AZTH74V2</code>، پارامتر scope را به شکل زیر مقدار دهید. شناسه‌ی آگهی را می‌توانید از پارامتر <code>post_token</code> که هنگام <a href=/kenar-docs/management>فراخوانی اپلیکیشن</a> ارائه شده است بخوانید.</p>
<div class="language-url codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-url codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">&scope=POST_ADDON_CREATE.AZTH74V2</span><br></span></code></pre></div></div>
</blockquote>
<br>
<p>برخی اجازه‌های دیگر مربوط به <em>شیء خاصی</em> نیستند و عمومی هستند: برای مثال دریافت شماره‌ی تلفن کاربر (برای یک کاربر خاص) یک اجازه (scope) عمومیست. این نوع اجازه‌ها با شکل <code>SCOPE</code> نمایانده می‌شوند.</p>
<br>
<blockquote>
<p>💡 <strong><em>مثال</em></strong> <br>
<!-- -->برای دریافت اجازه‌ی دسترسی به شماره‌ی تلفن کاربر، پارامتر scope را به شکل زیر تنظیم کنید:</p>
<div class="language-url codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-url codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">&scope=USER_PHONE</span><br></span></code></pre></div></div>
</blockquote>
<br>
<blockquote>
<p>💡 <strong><em>مثال</em></strong> <br>
<!-- -->برای دریافت اجازه‌ی دسترسی برای ارسال پیام به کاربر بر روی مکالمه با شناسه‌ی <code>62c82c02-6a71-4501-a1fd-4bf226b3aa78</code>، پارامتر scope را به شکل زیر ارسال نمایید:</p>
<div class="language-url codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-url codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">&scope=CONVERSATION_SEND_MESSAGE.62c82c02-6a71-4501-a1fd-4bf226b3aa78</span><br></span></code></pre></div></div>
</blockquote>
<br>
<p>پارامتر scope می‌تواند شامل چند اجازه‌ باشد، که در این صورت باید از فرم کلی <code>SCOPE_1 SCOPE_2 SCOPE_3 ...</code> یا <code>SCOPE_1%20SCOPE_2%20SCOPE_3 ...</code> تبعیت کند.</p>
<br>
<blockquote>
<p>💡<strong><em>مثال</em></strong> <br>
<!-- -->برای دریافت همزمان اجازه‌ی دسترسی به شماره‌ی کاربر و اجازه‌ی اضافه کردن افزونه به آگهی با شناسه‌ی <code>AZTH74V2</code>، پارامتر scope را به شکل زیر مقدار دهید:</p>
<div class="language-url codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-url codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">&scope=USER_PHONE POST_ADDON_CREATE.AZTH74V2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">or</span><br></span><span class=token-line style=color:#393A34><span class="token plain">&scope=USER_PHONE%20POST_ADDON_CREATE.AZTH74V2</span><br></span></code></pre></div></div>
</blockquote>
<br>
<p>اجازه‌های مورد نیاز هر قابلیت را در صفحه‌ی مربوط به آن قابلیت می‌توانید ببینید. جدول زیر لیستی از اجازه‌های پرکاربرد را نشان می‌دهد.</p>
<div align=right><table><thead><tr><th>قابلیت<th>اجازه<th>مثال<tbody><tr><td><a href=/kenar-docs/addons/post_addons>ساخت افزونه</a><td>POST_ADDON_CREATE<td><code>POST_ADDON_CREATE.AZTH74V2</code><tr><td><a href=/kenar-docs/chat/users_conversations>ارسال پیام در چت</a><td>CONVERSATION_SEND_MESSAGE<td><code>CONVERSATION_SEND_MESSAGE.62c82c02-6a71-4501-a1fd-4bf226b3aa78</code><tr><td><a href=/kenar-docs/oauth/get_user>دریافت شماره‌ی تلفن کاربر</a><td>USER_PHONE<td><code>USER_PHONE</code></table></div>
<br>
<hr>
<p>🛂 اجازه‌ها مستقل از دسترسی‌های <a href=/kenar-docs/management/api-keys>کلیدهای API</a> شما هستند. برای استفاده از هر قابلیت باید هم کلیدی با دسترسی‌های لازم استفاده کنید، هم اجازه‌های مورد نیاز را از کاربر دریافت نمایید. برای اطلاعات بیشتر در مورد دسترسی‌ها، <a href=/kenar-docs/management/api-keys#%D8%AF%D8%B3%D8%AA%D8%B1%D8%B3%DB%8C%D9%87%D8%A7%DB%8C-%D9%BE%D8%B1%DA%A9%D8%A7%D8%B1%D8%A8%D8%B1%D8%AF>اینجا را بخوانید</a>.</p>
<hr>
<br>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=️-گام-دوم-بازگشت-به-اپلیکیشن>↪️ گام دوم: بازگشت به اپلیکیشن<a href=#️-گام-دوم-بازگشت-به-اپلیکیشن class=hash-link aria-label="لینک مستقیم به ↪️ گام دوم: بازگشت به اپلیکیشن" title="لینک مستقیم به ↪️ گام دوم: بازگشت به اپلیکیشن">​</a></h2>
<p>بعد از اتمام فرآیند کسب اجازه، چه در صورت تایید و چه در صورت رد اجازه‌های درخواستی توسط کاربر، وی به آدرس مشخص‌شده در پارامتر <code>redirect_uri</code> در <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%A7%D9%88%D9%84-%D8%AF%D8%B1%D8%AE%D9%88%D8%A7%D8%B3%D8%AA-%D8%A7%D8%AC%D8%A7%D8%B2%D9%87>گام قبل</a> هدایت (redirect) می‌شود. برای مثال، اگر مقدار <code>redirect_uri</code> در <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%A7%D9%88%D9%84-%D8%AF%D8%B1%D8%AE%D9%88%D8%A7%D8%B3%D8%AA-%D8%A7%D8%AC%D8%A7%D8%B2%D9%87>گام قبل</a> به شکل زیر داده شده باشد:</p>
<div class="language-url codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-url codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">https://oauth.divar.ir/oauth2/auth?response_type=code</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  &client_id=...</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  &scope=...</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  &state=my-random-string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  &redirect_uri=oauth-redirect.my-app.ir</span><br></span></code></pre></div></div>
<p>بعد از اتمام فرآیند، کاربر به آدرسی به شکل زیر هدایت می‌شود:</p>
<div class="language-url codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-url codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">https://oauth-redirect.my-app.ir</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  ?state=my-random-string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  &code=c87sDtaqmWwgis7dYyukMqy6KAArNUFkukAPW8O90GmiEJkdmSTWH4KjSkNUP6FZ</span><br></span></code></pre></div></div>
<br>
<p>پارامتر <code>state</code> معادل مقدار تنظیم شده توسط اپلیکیشن است. برای آن مقدار تصادفی و یکتایی (برای هر session) تنظیم کنید و هنگام بازگشت این مقدار را چک کنید تا <a href=https://stackoverflow.com/questions/26132066/what-is-the-purpose-of-the-state-parameter-in-oauth-authorization-request target=_blank rel="noopener noreferrer">جلوی سوءاستفاده‌های احتمالی</a> را بگیرید.</p>
<p>پارامتر <code>code</code> درصورتی تنظیم می‌شود که کاربر اجازه‌های درخواست شده را داده باشد. با این پارامتر، می‌توانید در <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%B3%D9%88%D9%85-%D8%AF%D8%B1%DB%8C%D8%A7%D9%81%D8%AA-%D8%AA%D9%88%DA%A9%D9%86>گام بعدی</a>، اقدام به دریافت توکنی برای فراخوانی قابلیت‌های نیازمند اجازه‌ کنید. اگر اجازه‌های درخواستی برای ادامه‌ی کار با اپلیکیشن شما ضروری هستند، می‌توانید نبود این پارامتر را به منزله‌ی عدم صدور اجازه از جانب کاربر تلقی کرده و خطای مربوطه را نشان دهید.</p>
<br>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=️-گام-سوم-دریافت-توکن>🗝️ گام سوم: دریافت توکن<a href=#️-گام-سوم-دریافت-توکن class=hash-link aria-label="لینک مستقیم به 🗝️ گام سوم: دریافت توکن" title="لینک مستقیم به 🗝️ گام سوم: دریافت توکن">​</a></h2>
<p>در صورت دریافت اجازه از جانب کاربر و دریافت <code>code</code>، می‌توانید اقدام به دریافت access token از دیوار نمایید. در این توکن اجازه‌های دریافتی از جانب کاربر ذخیره شده‌اند و با استفاده از آن می‌توانید از قابلیت‌های نیازمند اجازه استفاده کنید.</p>
<p>برای دریافت access token، درخواستی به شکل زیر بفرستید:</p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-http codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">POST https://oauth.divar.ir/oauth2/token</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token header header-name keyword" style=color:#00009f>Content-Type</span><span class="token header punctuation" style=color:#393A34>:</span><span class="token header"> </span><span class="token header header-value">application/x-www-form-urlencoded</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  "code": "c87sDtaqmWwgis7dYyukMqy6KAArNUFkukAPW8O90GmiEJkdmSTWH4KjSkNUP6FZ",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  "client_id": "{{app_slug}}",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  "client_secret": "{{client_secret}}",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  "grant_type": "authorization_code",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  "redirect_uri": "{{redirect_uri}}",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<ul>
<li>پارامتر <code>code</code>: مقدار دریافتی در <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%AF%D9%88%D9%85-%D8%A8%D8%A7%D8%B2%DA%AF%D8%B4%D8%AA-%D8%A8%D9%87-%D8%A7%D9%BE%D9%84%DB%8C%DA%A9%DB%8C%D8%B4%D9%86>گام قبل</a> را قرار دهید.</li>
<li>پارامتر <code>client_id</code>: مانند <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%A7%D9%88%D9%84-%D8%AF%D8%B1%D8%AE%D9%88%D8%A7%D8%B3%D8%AA-%D8%A7%D8%AC%D8%A7%D8%B2%D9%87>گام اول</a>، <a href=/kenar-docs/management#slug>شناسه‌ی اپلیکیشن (Slug در پنل کنار)</a> را قرار دهید.</li>
<li>پارامتر <code>client_secret</code>: این پارامتر در زمان ساخت اپ به شما داده می‌شود. به علاوه می‌توانید در صورت نیاز در صفحهٔ مدیریت اپ، کلید محرمانهٔ جدید بسازید.</li>
<li>پارامتر <code>redirect_uri</code>: مقدار این پارامتر برابر با آنچه در <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%A7%D9%88%D9%84-%D8%AF%D8%B1%D8%AE%D9%88%D8%A7%D8%B3%D8%AA-%D8%A7%D8%AC%D8%A7%D8%B2%D9%87>گام اول</a> گذاشته شد می‌باشد.</li>
</ul>
<p>پاسخ به این درخواست‌ها به شکل زیر خواهد بود:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"access_token"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"ory_at_mAODvjM21UayVFDtP_KxsCDVwwpb5pwHoNks3vCIeJ8.Gx2sCv2jT4VIbbZDHDIRRwhi45AwV-St1W-gDNdxUUw"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"expires_in"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>3600</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"scope"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"..."</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"token_type"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"bearer"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<ul>
<li>پارامتر <code>access_token</code>: با استفاده از این پارامتر می‌توانید از قابلیت‌های نیازمند اجازه‌ <a href=/kenar-docs/oauth/#-%DA%AF%D8%A7%D9%85-%DA%86%D9%87%D8%A7%D8%B1%D9%85-%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D8%AA%D9%88%DA%A9%D9%86>استفاده کنید</a>.</li>
<li>پارامتر <code>expires_in</code>: به ثانیه، نشان میدهد که این توکن تا چه مدت معتبر است.</li>
<li>پارامتر <code>scope</code>: برابر با scopeهای درخواست شده می‌باشد.</li>
</ul>
<br>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=-گام-چهارم-استفاده-از-توکن>🔮 گام چهارم: استفاده از توکن<a href=#-گام-چهارم-استفاده-از-توکن class=hash-link aria-label="لینک مستقیم به 🔮 گام چهارم: استفاده از توکن" title="لینک مستقیم به 🔮 گام چهارم: استفاده از توکن">​</a></h2>
<p>پس از دریافت توکن با اجازه‌های مورد نیاز، می‌توانید از قابلیت‌های نیازمند این اجازه‌ها استفاده کنید. توکن دریافتی در <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%B3%D9%88%D9%85-%D8%AF%D8%B1%DB%8C%D8%A7%D9%81%D8%AA-%D8%AA%D9%88%DA%A9%D9%86>گام قبل</a> را در هدر <code>Authorization</code> با پیشوند <code>Bearer</code> قرار دهید و API مربوط به قابلیت مورد نظر را فراخوانی کنید.</p>
<br>
<blockquote>
<p>💡<strong><em>مثال</em></strong> <br>
<!-- -->برای دریافت شماره‌ی تلفن کاربر، پس از طی مراحل کسب اجازه از کاربر، درخواستی به شکل زیر ارسال نمایید. لازم به ذکر است، می‌بایست این درخواست به صورت فرم ارسال گردد:</p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-http codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">POST https://open-api.divar.ir/v1/open-platform/users</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token header header-name keyword" style=color:#00009f>Content-Type</span><span class="token header punctuation" style=color:#393A34>:</span><span class="token header"> </span><span class="token header header-value">application/json</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token header header-name keyword" style=color:#00009f>x-api-key</span><span class="token header punctuation" style=color:#393A34>:</span><span class="token header"> </span><span class="token header header-value">{{api_key}}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token header header-name keyword" style=color:#00009f>Authorization</span><span class="token header punctuation" style=color:#393A34>:</span><span class="token header"> </span><span class="token header header-value">Bearer {{access_token}}</span><br></span></code></pre></div></div>
<p>پاسخ این درخواست به شکل زیر خواهد بود:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"phone_numbers"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"09990000000"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<p>دقت کنید که هم کلید API (<code>api_key</code>) هم توکن اجازه‌ی کاربر (<code>access_token</code>) هر دو برای فراخوانی این قابلیت‌ها لازم‌اند.</p>
</blockquote>
<br>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=️-گام-پنجم-اختیاری-دریافت-رفرش-توکن>♻️ گام پنجم (اختیاری): دریافت رفرش توکن<a href=#️-گام-پنجم-اختیاری-دریافت-رفرش-توکن class=hash-link aria-label="لینک مستقیم به ♻️ گام پنجم (اختیاری): دریافت رفرش توکن" title="لینک مستقیم به ♻️ گام پنجم (اختیاری): دریافت رفرش توکن">​</a></h2>
<p>در صورتی که در <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%A7%D9%88%D9%84-%D8%AF%D8%B1%D8%AE%D9%88%D8%A7%D8%B3%D8%AA-%D8%A7%D8%AC%D8%A7%D8%B2%D9%87>گام اول</a> در فهرست scopeها <code>offline_access</code> هم قراردهید، در جواب <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%B3%D9%88%D9%85-%D8%AF%D8%B1%DB%8C%D8%A7%D9%81%D8%AA-%D8%AA%D9%88%DA%A9%D9%86>گام سوم</a> یک فیلد اضافه با کلید <code>refresh_token</code> نیز برگردانده می‌شود. اعتبار این توکن ۳۰ روز می‌باشد و بعد از آن، نیازمند گرفتن دسترسی مجدد از کاربر هستید. با استفاده از این مقدار می‌توانید اکسس توکن خود را با استفاده از درخواست زیر تازه‌سازی کنید:</p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-http codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">POST https://oauth.divar.ir/oauth2/token</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token header header-name keyword" style=color:#00009f>Content-Type</span><span class="token header punctuation" style=color:#393A34>:</span><span class="token header"> </span><span class="token header header-value">application/x-www-form-urlencoded</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  "code": "{{current_access_token}}",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  "client_id": "{{app_slug}}",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  "client_secret": "{{client_secret}}",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  "grant_type": "refresh_token",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  "redirect_uri": "{{redirect_uri}}",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  "refresh_token": "{{refresh_token}}"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<p>توجه کنید که در این درخواست هم <code>access_token</code> و هم <code>refresh_token</code> تازه‌سازی می‌شود و قابل استفاده نخواهند بود. پس حتما مقادیر جدید را برای استفاده‌های آینده ذخیره کنید. به منظور جلوگیری از مشکلات احتمالی، توکن‌های قدیمی تا دو دقیقه بعد از تازه‌سازی قابل استفاده هستند و در صورت بروز مشکل، مجدد تلاش کنید.</p>
<ul>
<li>پارامتر <code>code</code>: اکسس توکنی که در اختیار دارید.</li>
<li>پارامتر <code>client_id</code>: مانند <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%A7%D9%88%D9%84-%D8%AF%D8%B1%D8%AE%D9%88%D8%A7%D8%B3%D8%AA-%D8%A7%D8%AC%D8%A7%D8%B2%D9%87>گام اول</a>، <a href=/kenar-docs/management#slug>شناسه‌ی اپلیکیشن (Slug در پنل کنار)</a> را قرار دهید.</li>
<li>پارامتر <code>client_secret</code>: می‌توانید در صفحهٔ مدیریت اپ، کلید محرمانهٔ جدید بسازید.</li>
<li>پارامتر <code>redirect_uri</code>: مقداری که در <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%B3%D9%88%D9%85-%D8%AF%D8%B1%DB%8C%D8%A7%D9%81%D8%AA-%D8%AA%D9%88%DA%A9%D9%86>گام سوم</a> برای گرفتن توکن قرار داده شده.</li>
<li>پارامتر <code>refresh_token</code>: <code>refresh_token</code>ای که در <a href=/kenar-docs/oauth/#%EF%B8%8F-%DA%AF%D8%A7%D9%85-%D8%B3%D9%88%D9%85-%D8%AF%D8%B1%DB%8C%D8%A7%D9%81%D8%AA-%D8%AA%D9%88%DA%A9%D9%86>گام سوم</a> دریافت کردید.</li>
</ul>
<p>پاسخ به این درخواست‌ها به شکل زیر خواهد بود:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"access_token"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"ory_at_vV8nGHSkMumIEqojmUrq4Jdc8ZyifoNsdcUuMS2xr8s.P_1q_7d-xxHSAHuXUyB8YtLH4puqQA4hhO-TZGcpCtA"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"expires_in"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>3600</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"refresh_token"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"ory_rt_R9MRLXX9vY_AHmzvxTNrw80MdkgQ9xIC9WVbYDBvuyE.LpFjcEWK34WnI5DMj6CTObMFhvQ8N663ji3qj910M14"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"scope"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"..."</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token property" style=color:#36acaa>"token_type"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"bearer"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<br>
<br>
<div align=center><p><img decoding=async loading=lazy alt="Wire Puzzle" src=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMjAgMjAxLjUiPgogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj5AbWVkaWEocHJlZmVycy1jb2xvci1zY2hlbWU6ZGFyayl7cGF0aHtzdHJva2U6I2RmMmUzOH19PC9zdHlsZT4KICAgIDxnIHRyYW5zZm9ybT0ic2NhbGUoMC41KSI+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjQTYyNTI2IiBzdHJva2Utd2lkdGg9IjgiCiAgICAgICAgICAgICAgZD0iTTE0My4xNjcgNjkuNDk1YzUuMjYyLTEuMjM3IDExLjI0Mi0xLjIzIDE2LjY5NC4zM2wxMDEuMDAzIDI4LjkwMWMzLjIyNi02LjE4NiAxMC42NDMtMTAuNDAzIDE5LjI2NC0xMi40MyA3LjkxMi0xLjg2MSAxNi45MDUtMS44NDggMjUuMTAzLjQ5OCA3LjYxMiAyLjE3OCAxMy4yMTIgNS45NTMgMTUuODY0IDEwLjU3NiAxLjE0IDEuOTg2IDEuNjkgNC4xMTUgMS41MjEgNi4yNzctLjI5IDMuNzEtMi42NzggNy40My03LjAzNyAxMC43MzZsMTA4LjY5NCAzMS4xMDNjNC44NjYgMS4zOTIgOC41MDcgMy43NTIgMTAuMjEgNi43Mi42NTcgMS4xNDUuOTg3IDIuMzcuODkgMy42MTgtLjEgMS4yNjctLjYzMSAyLjUyOS0xLjU0MyAzLjc0OWwtNTIuMDIgNjkuNTc2YzEwLjU2NyAxLjY5NyAxOC4zODkgNi4xMjYgMjEuNjc2IDExLjg1NiAxLjE0IDEuOTg3IDEuNjkgNC4xMTYgMS41MjEgNi4yNzgtLjE2OCAyLjE0OC0xLjAzOSA0LjI5OC0yLjU4OCA2LjM3LTMuNzA1IDQuOTU1LTEwLjMxIDguMzktMTcuODMgMTAuMTYtOC43NTcgMi4wNTktMTguODM4IDEuODIyLTI3LjctMS4zMzJsLTQ4LjEyMiA2NC4zNjNjLTIuNDA2IDMuMjE4LTYuNzIyIDUuNC0xMS41OTMgNi41NDUtNS4yNjEgMS4yMzctMTEuMjQyIDEuMjMtMTYuNjk0LS4zM2wtOTMuMjQ5LTI2LjY4MmMuNzgtMS44OTIgMS4yMjgtMy44IDEuMzc2LTUuNjkzLjI5Mi0zLjczNC0uNTgtNy40MzYtMi41NTctMTAuODgzLTMuNDY2LTYuMDQxLTEwLjUwNC0xMS4zOTYtMjAuNjAzLTE0LjI4Ni05LjUxMy0yLjcyMi0xOS45NS0yLjc1NS0yOS4xMzUtLjU5NS04LjQzNSAxLjk4NS0xNS43NyA1LjgzMy0yMC41OTIgMTAuOTk0bC05OS42NTEtMjguNTE2Yy00Ljg2Ni0xLjM5Mi04LjUwOC0zLjc1Mi0xMC4yMS02LjcyLS42NTctMS4xNDUtLjk4Ny0yLjM3LS44OS0zLjYxOC4xLTEuMjY3LjYzLTIuNTI5IDEuNTQzLTMuNzQ5bDQ0LjgxLTU5LjkzNGM4Ljc2MSAyLjAxMyAxOC4xMTMgMS44NTcgMjYuNDM2LS4xMDEgOS41NzYtMi4yNTIgMTcuNzM0LTYuOTA3IDIyLjQwNi0xMy4xNTYgMi41Ni0zLjQyNCAzLjg4LTcuMDA4IDQuMTU2LTEwLjUzNi4yOTItMy43MzQtLjU4LTcuNDM2LTIuNTU3LTEwLjg4My0yLjgxNS00LjkwNi03Ljk4NS05LjM2LTE1LjIzOC0xMi40MDhsNDUuMDUtNjAuMjUzYzIuNDA2LTMuMjE4IDYuNzIyLTUuNCAxMS41OTItNi41NDVaIgogICAgICAgICAgICAgIGNsaXAtcnVsZT0iZXZlbm9kZCIgb3BhY2l0eT0iLjMiLz4KICAgICAgICA8cGF0aCBzdHJva2U9IiNBNjI1MjYiIHN0cm9rZS13aWR0aD0iOCIKICAgICAgICAgICAgICBkPSJNMTQzLjE2NyAxMDEuNDk1YzUuMjYyLTEuMjM3IDExLjI0Mi0xLjIzIDE2LjY5NC4zM2wxMDEuMDAzIDI4LjkwMWMzLjIyNi02LjE4NiAxMC42NDMtMTAuNDAzIDE5LjI2NC0xMi40MyA3LjkxMi0xLjg2MSAxNi45MDUtMS44NDggMjUuMTAzLjQ5OCA3LjYxMiAyLjE3OCAxMy4yMTIgNS45NTMgMTUuODY0IDEwLjU3NiAxLjE0IDEuOTg2IDEuNjkgNC4xMTUgMS41MjEgNi4yNzctLjI5IDMuNzEtMi42NzggNy40My03LjAzNyAxMC43MzZsMTA4LjY5NCAzMS4xMDNjNC44NjYgMS4zOTIgOC41MDcgMy43NTIgMTAuMjEgNi43Mi42NTcgMS4xNDUuOTg3IDIuMzcuODkgMy42MTgtLjEgMS4yNjctLjYzMSAyLjUyOS0xLjU0MyAzLjc0OWwtNTIuMDIgNjkuNTc2YzEwLjU2NyAxLjY5NyAxOC4zODkgNi4xMjYgMjEuNjc2IDExLjg1NiAxLjE0IDEuOTg3IDEuNjkgNC4xMTYgMS41MjEgNi4yNzgtLjE2OCAyLjE0OC0xLjAzOSA0LjI5OC0yLjU4OCA2LjM3LTMuNzA1IDQuOTU1LTEwLjMxIDguMzktMTcuODMgMTAuMTYtOC43NTcgMi4wNTktMTguODM4IDEuODIyLTI3LjctMS4zMzJsLTQ4LjEyMiA2NC4zNjNjLTIuNDA2IDMuMjE4LTYuNzIyIDUuNC0xMS41OTMgNi41NDUtNS4yNjEgMS4yMzctMTEuMjQyIDEuMjMtMTYuNjk0LS4zM2wtOTMuMjQ5LTI2LjY4MmMuNzgtMS44OTIgMS4yMjgtMy44IDEuMzc2LTUuNjkzLjI5Mi0zLjczNC0uNTgtNy40MzYtMi41NTctMTAuODgzLTMuNDY2LTYuMDQxLTEwLjUwNC0xMS4zOTYtMjAuNjAzLTE0LjI4Ni05LjUxMy0yLjcyMi0xOS45NS0yLjc1NS0yOS4xMzUtLjU5NS04LjQzNSAxLjk4NS0xNS43NyA1LjgzMy0yMC41OTIgMTAuOTk0bC05OS42NTEtMjguNTE2Yy00Ljg2Ni0xLjM5Mi04LjUwOC0zLjc1Mi0xMC4yMS02LjcyLS42NTctMS4xNDUtLjk4Ny0yLjM3LS44OS0zLjYxOC4xLTEuMjY3LjYzLTIuNTI5IDEuNTQzLTMuNzQ5bDQ0LjgxLTU5LjkzNGM4Ljc2MSAyLjAxMyAxOC4xMTMgMS44NTcgMjYuNDM2LS4xMDEgOS41NzYtMi4yNTIgMTcuNzM0LTYuOTA3IDIyLjQwNi0xMy4xNTYgMi41Ni0zLjQyNCAzLjg4LTcuMDA4IDQuMTU2LTEwLjUzNi4yOTItMy43MzQtLjU4LTcuNDM2LTIuNTU3LTEwLjg4My0yLjgxNS00LjkwNi03Ljk4NS05LjM2LTE1LjIzOC0xMi40MDhsNDUuMDUtNjAuMjUzYzIuNDA2LTMuMjE4IDYuNzIyLTUuNCAxMS41OTItNi41NDVaIgogICAgICAgICAgICAgIGNsaXAtcnVsZT0iZXZlbm9kZCIgb3BhY2l0eT0iLjIiLz4KICAgICAgICA8cGF0aCBzdHJva2U9IiNBNjI1MjYiIHN0cm9rZS13aWR0aD0iOCIKICAgICAgICAgICAgICBkPSJNMTQzLjE2NyAxMzMuNDk1YzUuMjYyLTEuMjM3IDExLjI0Mi0xLjIzIDE2LjY5NC4zM2wxMDEuMDAzIDI4LjkwMWMzLjIyNi02LjE4NiAxMC42NDMtMTAuNDAzIDE5LjI2NC0xMi40MyA3LjkxMi0xLjg2MSAxNi45MDUtMS44NDggMjUuMTAzLjQ5OCA3LjYxMiAyLjE3OCAxMy4yMTIgNS45NTMgMTUuODY0IDEwLjU3NiAxLjE0IDEuOTg2IDEuNjkgNC4xMTUgMS41MjEgNi4yNzctLjI5IDMuNzEtMi42NzggNy40My03LjAzNyAxMC43MzZsMTA4LjY5NCAzMS4xMDNjNC44NjYgMS4zOTIgOC41MDcgMy43NTIgMTAuMjEgNi43Mi42NTcgMS4xNDUuOTg3IDIuMzcuODkgMy42MTgtLjEgMS4yNjctLjYzMSAyLjUyOS0xLjU0MyAzLjc0OWwtNTIuMDIgNjkuNTc2YzEwLjU2NyAxLjY5NyAxOC4zODkgNi4xMjYgMjEuNjc2IDExLjg1NiAxLjE0IDEuOTg3IDEuNjkgNC4xMTYgMS41MjEgNi4yNzgtLjE2OCAyLjE0OC0xLjAzOSA0LjI5OC0yLjU4OCA2LjM3LTMuNzA1IDQuOTU1LTEwLjMxIDguMzktMTcuODMgMTAuMTYtOC43NTcgMi4wNTktMTguODM4IDEuODIyLTI3LjctMS4zMzJsLTQ4LjEyMiA2NC4zNjNjLTIuNDA2IDMuMjE4LTYuNzIyIDUuNC0xMS41OTMgNi41NDUtNS4yNjEgMS4yMzctMTEuMjQyIDEuMjMtMTYuNjk0LS4zM2wtOTMuMjQ5LTI2LjY4MmMuNzgtMS44OTIgMS4yMjgtMy44IDEuMzc2LTUuNjkzLjI5Mi0zLjczNC0uNTgtNy40MzYtMi41NTctMTAuODgzLTMuNDY2LTYuMDQxLTEwLjUwNC0xMS4zOTYtMjAuNjAzLTE0LjI4Ni05LjUxMy0yLjcyMi0xOS45NS0yLjc1NS0yOS4xMzUtLjU5NS04LjQzNSAxLjk4NS0xNS43NyA1LjgzMy0yMC41OTIgMTAuOTk0bC05OS42NTEtMjguNTE2Yy00Ljg2Ni0xLjM5Mi04LjUwOC0zLjc1Mi0xMC4yMS02LjcyLS42NTctMS4xNDUtLjk4Ny0yLjM3LS44OS0zLjYxOC4xLTEuMjY3LjYzLTIuNTI5IDEuNTQzLTMuNzQ5bDQ0LjgxLTU5LjkzNGM4Ljc2MSAyLjAxMyAxOC4xMTMgMS44NTcgMjYuNDM2LS4xMDEgOS41NzYtMi4yNTIgMTcuNzM0LTYuOTA3IDIyLjQwNi0xMy4xNTYgMi41Ni0zLjQyNCAzLjg4LTcuMDA4IDQuMTU2LTEwLjUzNi4yOTItMy43MzQtLjU4LTcuNDM2LTIuNTU3LTEwLjg4My0yLjgxNS00LjkwNi03Ljk4NS05LjM2LTE1LjIzOC0xMi40MDhsNDUuMDUtNjAuMjUzYzIuNDA2LTMuMjE4IDYuNzIyLTUuNCAxMS41OTItNi41NDVaIgogICAgICAgICAgICAgIGNsaXAtcnVsZT0iZXZlbm9kZCIgb3BhY2l0eT0iLjEiLz4KICAgICAgICA8cGF0aCBzdHJva2U9IiNBNjI1MjYiIHN0cm9rZS13aWR0aD0iOCIKICAgICAgICAgICAgICBkPSJNMTQzLjE2NyAzNy40OTVjNS4yNjItMS4yMzcgMTEuMjQyLTEuMjMgMTYuNjk0LjMzbDEwMS4wMDMgMjguOTAxYzMuMjI2LTYuMTg2IDEwLjY0My0xMC40MDMgMTkuMjY0LTEyLjQzIDcuOTEyLTEuODYxIDE2LjkwNS0xLjg0OCAyNS4xMDMuNDk4IDcuNjEyIDIuMTc4IDEzLjIxMiA1Ljk1MyAxNS44NjQgMTAuNTc2IDEuMTQgMS45ODYgMS42OSA0LjExNSAxLjUyMSA2LjI3Ny0uMjkgMy43MS0yLjY3OCA3LjQzLTcuMDM3IDEwLjczNmwxMDguNjk0IDMxLjEwM2M0Ljg2NiAxLjM5MiA4LjUwNyAzLjc1MiAxMC4yMSA2LjcyLjY1NyAxLjE0NS45ODcgMi4zNy44OSAzLjYxOC0uMSAxLjI2Ny0uNjMxIDIuNTI5LTEuNTQzIDMuNzQ5bC01Mi4wMiA2OS41NzZjMTAuNTY3IDEuNjk3IDE4LjM4OSA2LjEyNiAyMS42NzYgMTEuODU2IDEuMTQgMS45ODcgMS42OSA0LjExNiAxLjUyMSA2LjI3OC0uMTY4IDIuMTQ4LTEuMDM5IDQuMjk4LTIuNTg4IDYuMzctMy43MDUgNC45NTUtMTAuMzEgOC4zOS0xNy44MyAxMC4xNi04Ljc1NyAyLjA1OS0xOC44MzggMS44MjItMjcuNy0xLjMzMmwtNDguMTIyIDY0LjM2M2MtMi40MDYgMy4yMTgtNi43MjIgNS40LTExLjU5MyA2LjU0NS01LjI2MSAxLjIzNy0xMS4yNDIgMS4yMy0xNi42OTQtLjMzbC05My4yNDktMjYuNjgyYy43OC0xLjg5MiAxLjIyOC0zLjggMS4zNzYtNS42OTMuMjkyLTMuNzM0LS41OC03LjQzNi0yLjU1Ny0xMC44ODMtMy40NjYtNi4wNDEtMTAuNTA0LTExLjM5Ni0yMC42MDMtMTQuMjg2LTkuNTEzLTIuNzIyLTE5Ljk1LTIuNzU1LTI5LjEzNS0uNTk1LTguNDM1IDEuOTg1LTE1Ljc3IDUuODMzLTIwLjU5MiAxMC45OTRsLTk5LjY1MS0yOC41MTZjLTQuODY2LTEuMzkyLTguNTA4LTMuNzUyLTEwLjIxLTYuNzItLjY1Ny0xLjE0NS0uOTg3LTIuMzctLjg5LTMuNjE4LjEtMS4yNjcuNjMtMi41MjkgMS41NDMtMy43NDlsNDQuODEtNTkuOTM0YzguNzYxIDIuMDEzIDE4LjExMyAxLjg1NyAyNi40MzYtLjEwMSA5LjU3Ni0yLjI1MiAxNy43MzQtNi45MDcgMjIuNDA2LTEzLjE1NiAyLjU2LTMuNDI0IDMuODgtNy4wMDggNC4xNTYtMTAuNTM2LjI5Mi0zLjczNC0uNTgtNy40MzYtMi41NTctMTAuODgzLTIuODE1LTQuOTA2LTcuOTg1LTkuMzYtMTUuMjM4LTEyLjQwOGw0NS4wNS02MC4yNTNjMi40MDYtMy4yMTggNi43MjItNS40IDExLjU5Mi02LjU0NVoiCiAgICAgICAgICAgICAgY2xpcC1ydWxlPSJldmVub2RkIiBvcGFjaXR5PSIuNCIvPgogICAgICAgIDxwYXRoIHN0cm9rZT0iI0E2MjUyNiIgc3Ryb2tlLXdpZHRoPSI4IgogICAgICAgICAgICAgIGQ9Ik0xNDMuMTY3IDUuNDk1YzUuMjYyLTEuMjM3IDExLjI0Mi0xLjIzIDE2LjY5NC4zM2wxMDEuMDAzIDI4LjkwMWMzLjIyNi02LjE4NiAxMC42NDMtMTAuNDAzIDE5LjI2NC0xMi40MyA3LjkxMi0xLjg2MSAxNi45MDUtMS44NDggMjUuMTAzLjQ5OCA3LjYxMiAyLjE3OCAxMy4yMTIgNS45NTMgMTUuODY0IDEwLjU3NiAxLjE0IDEuOTg2IDEuNjkgNC4xMTUgMS41MjEgNi4yNzctLjI5IDMuNzEtMi42NzggNy40My03LjAzNyAxMC43MzZsMTA4LjY5NCAzMS4xMDNjNC44NjYgMS4zOTIgOC41MDcgMy43NTIgMTAuMjEgNi43Mi42NTcgMS4xNDUuOTg3IDIuMzcuODkgMy42MTgtLjEgMS4yNjctLjYzMSAyLjUyOS0xLjU0MyAzLjc0OWwtNTIuMDIgNjkuNTc2YzEwLjU2NyAxLjY5NyAxOC4zODkgNi4xMjYgMjEuNjc2IDExLjg1NiAxLjE0IDEuOTg3IDEuNjkgNC4xMTYgMS41MjEgNi4yNzgtLjE2OCAyLjE0OC0xLjAzOSA0LjI5OC0yLjU4OCA2LjM3LTMuNzA1IDQuOTU1LTEwLjMxIDguMzktMTcuODMgMTAuMTYtOC43NTcgMi4wNTktMTguODM4IDEuODIyLTI3LjctMS4zMzJsLTQ4LjEyMiA2NC4zNjNjLTIuNDA2IDMuMjE4LTYuNzIyIDUuNC0xMS41OTMgNi41NDUtNS4yNjEgMS4yMzctMTEuMjQyIDEuMjMtMTYuNjk0LS4zM2wtOTMuMjQ5LTI2LjY4MmMuNzgtMS44OTIgMS4yMjgtMy44IDEuMzc2LTUuNjkzLjI5Mi0zLjczNC0uNTgtNy40MzYtMi41NTctMTAuODgzLTMuNDY2LTYuMDQxLTEwLjUwNC0xMS4zOTYtMjAuNjAzLTE0LjI4Ni05LjUxMy0yLjcyMi0xOS45NS0yLjc1NS0yOS4xMzUtLjU5NS04LjQzNSAxLjk4NS0xNS43NyA1LjgzMy0yMC41OTIgMTAuOTk0bC05OS42NTEtMjguNTE2Yy00Ljg2Ni0xLjM5Mi04LjUwOC0zLjc1Mi0xMC4yMS02LjcyLS42NTctMS4xNDUtLjk4Ny0yLjM3LS44OS0zLjYxOC4xLTEuMjY3LjYzLTIuNTI5IDEuNTQzLTMuNzQ5bDQ0LjgxLTU5LjkzNGM4Ljc2MSAyLjAxMyAxOC4xMTMgMS44NTcgMjYuNDM2LS4xMDEgOS41NzYtMi4yNTIgMTcuNzM0LTYuOTA3IDIyLjQwNi0xMy4xNTYgMi41Ni0zLjQyNCAzLjg4LTcuMDA4IDQuMTU2LTEwLjUzNi4yOTItMy43MzQtLjU4LTcuNDM2LTIuNTU3LTEwLjg4My0yLjgxNS00LjkwNi03Ljk4NS05LjM2LTE1LjIzOC0xMi40MDhsNDUuMDUtNjAuMjUzYzIuNDA2LTMuMjE4IDYuNzIyLTUuNCAxMS41OTItNi41NDVaIgogICAgICAgICAgICAgIGNsaXAtcnVsZT0iZXZlbm9kZCIgb3BhY2l0eT0iLjUiLz4KICAgIDwvZz4KPC9zdmc+ width=220 height=202 class=img_ev3q></div>
<br>
<br></div></div></div><div class=row><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/divar-ir/kenar-docs/edit/master/docs/oauth/ReadMe.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>ویرایش مطالب این صفحه</a></div><div class="col lastUpdated_JAkA"></div></div></footer></div></div></article><div class=row><div class="col col--12"><nav class="docusaurus-mt-lg pagination-nav" aria-label="صفحات مستندات"><a class="pagination-nav__link pagination-nav__link--prev" href=/kenar-docs/misc/standards><div class=pagination-nav__sublabel>قبلی</div><div class=pagination-nav__label>استانداردها</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/kenar-docs/oauth/get_user><div class=pagination-nav__sublabel>بعدی</div><div class=pagination-nav__label>دریافت اطلاعات کاربر</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#️-گام-اول-درخواست-اجازه class="table-of-contents__link toc-highlight">🖐️ گام اول: درخواست اجازه</a><ul><li><a href=#-اجازهها-scope class="table-of-contents__link toc-highlight">🛂 اجازه‌ها (Scope)</a></ul><li><a href=#️-گام-دوم-بازگشت-به-اپلیکیشن class="table-of-contents__link toc-highlight">↪️ گام دوم: بازگشت به اپلیکیشن</a><li><a href=#️-گام-سوم-دریافت-توکن class="table-of-contents__link toc-highlight">🗝️ گام سوم: دریافت توکن</a><li><a href=#-گام-چهارم-استفاده-از-توکن class="table-of-contents__link toc-highlight">🔮 گام چهارم: استفاده از توکن</a><li><a href=#️-گام-پنجم-اختیاری-دریافت-رفرش-توکن class="table-of-contents__link toc-highlight">♻️ گام پنجم (اختیاری): دریافت رفرش توکن</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>2025 © <a href=https://divar.ir/kenar target=_blank>کنار دیوار</a></div></div></div></footer></div>
<script type=module src=https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.esm.js></script>
<script>let bielButton=document.createElement("biel-button");bielButton.setAttribute("project","mxzem86g2j"),bielButton.setAttribute("modal-position","bottom-right"),bielButton.setAttribute("button-style","dark"),bielButton.setAttribute("button-position","bottom-right"),bielButton.setAttribute("header-title","دستیار هوش مصنوعی"),bielButton.setAttribute("id","default"),bielButton.textContent="از هوش مصنوعی بپرس",document.body.appendChild(bielButton)</script>